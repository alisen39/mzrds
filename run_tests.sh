#!/bin/bash
# 运行 mzrds 测试套件

set -e

echo "=========================================="
echo "运行单元测试（跳过集成测试和冒烟测试）..."
echo "=========================================="
uv run pytest tests/ -v -m "not integration and not smoke"

echo ""
echo "=========================================="
echo "运行集成测试（需要 Redis 连接）..."
echo "=========================================="
uv run pytest tests/ -v -m integration

echo ""
echo "=========================================="
echo "运行冒烟测试和性能测试（需要 Redis，会生成大量数据）..."
echo "=========================================="
uv run pytest tests/ -v -m smoke -s

echo ""
echo "=========================================="
echo "所有测试通过！"
echo "=========================================="

